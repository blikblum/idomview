<script>
  let todos = state.todos
</script>
<if condition="Array.isArray(todos) && todos.length">
  <script>
    let completed = this.completed
  </script>
  <section>
    <ul>
      <li as="x-todo" skip each="todo, todo.id in todos" todo="{todo}"></li>
      <!--<x-todo skip each="todo, todo.id in todos" todo="{todo}"></x-todo>-->
    </ul>
    
    <footer>
      <dl>
        <dt>Total</dt>
        <dd>{todos.length}</dd>
        <dt>Total completed</dt>
        <dd>{Date.now()}</dd>
      </dl>
      <button onclick="{todos[0].set('isCompleted', !todos[0].isCompleted)}">XX</button>
      <button onclick="{todos[0].set('text', 'egg')}">YY</button>
      <button disabled="{completed.length ? undefined : 'disabled'}" onclick="{el.clear()}">Clear completed</button>
    </footer>
  </section>
<else>
  No Todos Found
</if>
    <form onsubmit="{el.addTodo($event)}">
      <input type="text" value="{state.newTodoText}" onkeyup="{state.set('newTodoText', this.value.trim())}">
      <button disabled="{state.newTodoText ? undefined : 'disabled'}">Add Todo</button>
    </form>